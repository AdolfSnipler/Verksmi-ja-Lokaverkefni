from machine import Pin
from myservo import myServo
import uasyncio as asyncio

servo = myServo(9)

async def control_servo(servo):
    while True:
        for angle in range(45, -46, -1):  # from 45 to -45
            servo.myServoWriteAngle(angle)
            await asyncio.sleep_ms(10)  # Adjust the delay for desired speed
        
        for angle in range(-45, 46):  # from -45 to 45
            servo.myServoWriteAngle(angle)
            await asyncio.sleep_ms(10)  # Adjust the delay for desired speed

async def main():
    asyncio.create_task(control_servo(servo))

asyncio.run(main())
